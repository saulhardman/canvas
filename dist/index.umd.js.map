{"version":3,"file":null,"sources":["../src/events.js","../src/vector.js","../src/pointer.js","../src/canvas.js"],"sourcesContent":["const events = {\n  resize: {\n    handler: 'onResize',\n    element: window,\n  },\n  visibilitychange: {\n    handler: 'onVisibilityChange',\n    element: document,\n  },\n  keydown: {\n    handler: 'onKeyDown',\n    element: document,\n  },\n  keyup: {\n    handler: 'onKeyUp',\n    element: document,\n  },\n  mouseover: {\n    handler: 'onMouseOver',\n  },\n  mousemove: {\n    handler: 'onMouseMove',\n  },\n  mouseout: {\n    handler: 'onMouseOut',\n  },\n  mousedown: {\n    handler: 'onMouseDown',\n  },\n  mouseup: {\n    handler: 'onMouseUp',\n  },\n  // TODO: support touch events\n  // touchstart: {\n  //   handler: 'onTouchStart',\n  // },\n  // touchmove: {\n  //   handler: 'onTouchStart',\n  // },\n  // touchend: {\n  //   handler: 'onTouchEnd',\n  // },\n};\n\nexport default events;\n","import isNumber from 'lodash-es/isNumber';\n\nconst vector = {\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n\n    return this;\n  },\n  get() {\n    return Object.create(vector).set(this.x, this.y);\n  },\n  clear() {\n    delete this.x;\n    delete this.y;\n\n    return this;\n  },\n  add({ x, y }) {\n    this.x += x;\n\n    this.y += y;\n\n    this.checkLimitation();\n\n    return this;\n  },\n  subtract({ x, y }) {\n    this.x -= x;\n\n    this.y -= y;\n\n    this.checkLimitation();\n\n    return this;\n  },\n  multiply(multiplier, check) {\n    if (isNumber(multiplier)) {\n      this.x *= multiplier;\n\n      this.y *= multiplier;\n    }\n\n    // TODO: handle case of multiplier being a vector\n\n    if (check !== false) {\n      this.checkLimitation();\n    }\n\n    return this;\n  },\n  divide(divisor, check) {\n    if (isNumber(divisor)) {\n      this.x /= divisor;\n\n      this.y /= divisor;\n    }\n\n    // TODO: handle case of divisor being a vector\n\n    if (check !== false) {\n      this.checkLimitation();\n    }\n\n    return this;\n  },\n  magnitude() {\n    return Math.sqrt((this.x * this.x) + (this.y * this.y));\n  },\n  limit(limitation) {\n    this.limitation = limitation;\n\n    this.checkLimitation();\n\n    return this;\n  },\n  checkLimitation() {\n    if (isNumber(this.limitation)) {\n      const magnitude = this.magnitude();\n\n      if (magnitude > this.limitation) {\n        this.divide(magnitude, false).multiply(this.limitation, false);\n      }\n    }\n\n    return this;\n  },\n  normalize() {\n    const magnitude = this.magnitude();\n\n    if (magnitude !== 0) {\n      return this.divide(this.magnitude());\n    }\n\n    return this;\n  },\n  toJSON() {\n    return {\n      x: this.x,\n      y: this.y,\n    };\n  },\n};\n\nexport default vector;\n","import assign from 'lodash-es/assign';\n\nimport vector from './vector';\n\nconst pointer = assign(Object.create(vector), {\n  isDragging: false,\n  origin: Object.create(vector),\n  delta: Object.create(vector),\n  startDragging(x, y) {\n    this.isDragging = true;\n\n    this.origin.set(x, y);\n    this.delta.set(0, 0);\n\n    return this;\n  },\n  stopDragging() {\n    this.isDragging = false;\n\n    this.origin.clear();\n    this.delta.clear();\n\n    return this;\n  },\n  set(x, y) {\n    vector.set.call(this, x, y);\n\n    if (this.isDragging) {\n      const delta = this.get().subtract(this.origin);\n\n      this.delta.set(delta.x, delta.y);\n    }\n\n    return this;\n  },\n});\n\nexport default pointer;\n","import assign from 'lodash-es/assign';\nimport forEach from 'lodash-es/forEach';\nimport isFunction from 'lodash-es/isFunction';\n\nimport events from './events';\nimport pointer from './pointer';\n\nconst DEFAULT_OPTIONS = {\n  autoStart: true,\n  autoClear: true,\n  autoPause: true,\n  requestAnimationFrame: true,\n  allowFullscreen: true,\n  fillScreen: true,\n  supportRetina: true,\n  backgroundColor: 'rgb(20, 20, 20)',\n  addClasses: true,\n};\nconst PLAYING_STATE_CLASS = 'is-playing';\nconst PAUSED_STATE_CLASS = 'is-paused';\n\nconst canvas = {\n  init(element, options = {}) {\n    this.element = element;\n    this.settings = assign({}, DEFAULT_OPTIONS, options);\n    this.devicePixelRatio = window.devicePixelRatio || 1;\n    this.isRetina = this.devicePixelRatio > 1;\n    this.isPlaying = false;\n    this.isPaused = false;\n    this.context = this.element.getContext('2d', this.settings.contextAttributes);\n    this.pointer = Object.create(pointer);\n    this.width = this.element.width;\n    this.height = this.element.height;\n\n    if (this.settings.fillScreen) {\n      this.fillScreen();\n    }\n\n    this.setElementDimensions();\n\n    this.setup();\n\n    if (this.settings.autoStart) {\n      this.start();\n    }\n\n    return this;\n  },\n  setup() {\n    return this;\n  },\n  start() {\n    this.isPlaying = true;\n\n    this.startTime = Date.now();\n\n    this.time = 0;\n\n    this.element.classList.add(PLAYING_STATE_CLASS);\n\n    this.bindEvents();\n\n    if (this.isPaused) {\n      return this;\n    }\n\n    return this.loop();\n  },\n  pause() {\n    this.isPaused = true;\n\n    this.element.classList.add(PAUSED_STATE_CLASS);\n\n    this.clearAnimationFrame();\n\n    return this;\n  },\n  play() {\n    this.isPaused = false;\n\n    this.element.classList.remove(PAUSED_STATE_CLASS);\n\n    return this.loop();\n  },\n  stop() {\n    this.isPlaying = false;\n    this.isPaused = false;\n\n    const classList = this.element.classList;\n\n    classList.remove(PLAYING_STATE_CLASS);\n    classList.remove(PAUSED_STATE_CLASS);\n\n    this.clearAnimationFrame();\n\n    return this.unBindEvents();\n  },\n  destroy() {\n    if (this.isPlaying) {\n      this.stop();\n    }\n\n    this.remove();\n\n    delete this.element;\n\n    return this;\n  },\n  remove() {\n    this.element.parentNode.removeChild(this.element);\n\n    return this;\n  },\n  bindEvents() {\n    // NOTE: pass all events to handleEvent (special) function\n    forEach(events, ({ element }, name) => {\n      (element || this.element).addEventListener(name, this, false);\n    });\n\n    return this;\n  },\n  unBindEvents() {\n    forEach(events, ({ element }, name) => {\n      (element || this.element).removeEventListener(name, this, false);\n    });\n\n    return this;\n  },\n  loop() {\n    const now = Date.now();\n\n    this.time = now - this.startTime;\n\n    if (this.settings.requestAnimationFrame) {\n      this.animationFrame = requestAnimationFrame(this.loop.bind(this));\n    }\n\n    // NOTE: frameRate === 0, false, undefined, null\n    if (!this.settings.frameRate) {\n      return this.run();\n    }\n\n    if (!this.previousNow || now - this.previousNow >= 1000 / this.settings.frameRate) {\n      this.previousNow = now;\n\n      return this.run();\n    }\n\n    return this;\n  },\n  run() {\n    this.update();\n\n    if (this.settings.supportRetina && this.isRetina) {\n      this.context.save();\n\n      this.context.scale(this.devicePixelRatio, this.devicePixelRatio);\n    }\n\n    if (this.settings.autoClear) {\n      this.clear();\n    }\n\n    this.draw();\n\n    if (this.settings.supportRetina && this.isRetina) {\n      this.context.restore();\n    }\n\n    return this;\n  },\n  clearAnimationFrame() {\n    cancelAnimationFrame(this.animationFrame);\n\n    this.previousNow = null;\n\n    return this;\n  },\n  update() {\n    return this;\n  },\n  draw() {\n    return this;\n  },\n  clear() {\n    this.context.clearRect(0, 0, this.width, this.height);\n\n    this.context.fillStyle = this.settings.backgroundColor;\n\n    this.context.fillRect(0, 0, this.width, this.height);\n\n    return this;\n  },\n  handleEvent(event) {\n    const { type } = event;\n\n    // NOTE: only allow visibilitychange and resize events whilst paused\n    if (this.isPaused &&\n        type !== 'visibilitychange' &&\n        type !== 'resize') {\n      return this;\n    }\n\n    if (isFunction(this[type])) {\n      this[type](event);\n    }\n\n    const handler = events[type].handler;\n\n    if (isFunction(this[handler])) {\n      this[handler](event);\n    }\n\n    return this;\n  },\n  mousedown({ pageX, pageY }) {\n    this.pointer.startDragging(pageX, pageY);\n\n    return this;\n  },\n  mousemove({ pageX, pageY }) {\n    this.pointer.set(pageX, pageY);\n\n    return this;\n  },\n  mouseup({ pageX, pageY }) {\n    this.pointer.stopDragging(pageX, pageY);\n\n    return this;\n  },\n  visibilitychange() {\n    if (!this.settings.autoPause) {\n      return this;\n    }\n\n    if (document.visibilityState === 'visible') {\n      return this.play();\n    }\n\n    return this.pause();\n  },\n  resize() {\n    if (this.settings.fillScreen) {\n      this.fillScreen()\n          .setElementDimensions();\n    }\n\n    return this;\n  },\n  setWidth(width) {\n    this.width = this.element.width = width;\n\n    this.setElementDimensions();\n\n    return this;\n  },\n  setHeight(height) {\n    this.height = this.element.height = height;\n\n    this.setElementDimensions();\n\n    return this;\n  },\n  setElementDimensions() {\n    this.element.style.width = `${this.width}px`;\n    this.element.style.height = `${this.height}px`;\n\n    if (!this.isRetina || !this.settings.supportRetina) {\n      return this;\n    }\n\n    this.element.width = this.width * this.devicePixelRatio;\n    this.element.height = this.height * this.devicePixelRatio;\n\n    return this;\n  },\n  fillScreen() {\n    this.setWidth(window.innerWidth)\n        .setHeight(window.innerHeight);\n\n    return this;\n  },\n};\n\nexport default canvas;\n"],"names":["events","window","document","vector","x","y","Object","create","set","checkLimitation","multiplier","check","isNumber","divisor","Math","sqrt","limitation","magnitude","divide","multiply","pointer","assign","isDragging","origin","delta","clear","call","get","subtract","DEFAULT_OPTIONS","PLAYING_STATE_CLASS","PAUSED_STATE_CLASS","canvas","element","options","settings","devicePixelRatio","isRetina","isPlaying","isPaused","context","getContext","contextAttributes","width","height","fillScreen","setElementDimensions","setup","autoStart","start","startTime","Date","now","time","classList","add","bindEvents","loop","clearAnimationFrame","remove","unBindEvents","stop","parentNode","removeChild","name","addEventListener","removeEventListener","requestAnimationFrame","animationFrame","bind","frameRate","run","previousNow","update","supportRetina","save","scale","autoClear","draw","restore","clearRect","fillStyle","backgroundColor","fillRect","event","type","isFunction","handler","pageX","pageY","startDragging","stopDragging","autoPause","visibilityState","play","pause","style","setWidth","innerWidth","setHeight","innerHeight"],"mappings":"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"}