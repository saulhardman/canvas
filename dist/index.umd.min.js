!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.canvas=t.canvas||{})}(this,function(t){"use strict";function e(t){var e=V.call(t,J),i=t[J];try{t[J]=void 0;var n=!0}catch(t){}var r=G.call(t);return n&&(e?t[J]=i:delete t[J]),r}function i(t){return Z.call(t)}function n(t){return null==t?void 0===t?et:tt:it&&it in Object(t)?e(t):i(t)}function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function o(t){if(!r(t))return!1;var e=n(t);return e==rt||e==ot||e==nt||e==st}function s(t){return!!at&&at in t}function u(t){if(null!=t){try{return ht.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function a(t){if(!r(t)||s(t))return!1;var e=o(t)?vt:ft;return e.test(u(t))}function c(t,e){return null==t?void 0:t[e]}function h(t,e){var i=c(t,e);return a(i)?i:void 0}function l(t,e,i){"__proto__"==e&&yt?yt(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function f(t,e){return t===e||t!==t&&e!==e}function d(t,e,i){var n=t[e];jt.call(t,e)&&f(n,i)&&(void 0!==i||e in t)||l(t,e,i)}function p(t,e,i,n){var r=!i;i||(i={});for(var o=-1,s=e.length;++o<s;){var u=e[o],a=n?n(i[u],t[u],u,i,t):void 0;void 0===a&&(a=t[u]),r?l(i,u,a):d(i,u,a)}return i}function g(t){return t}function m(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function v(t,e,i){return e=wt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=wt(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=n[r];return u[e]=i(s),m(t,this,u)}}function y(t){return function(){return t}}function b(t){var e=0,i=0;return function(){var n=At(),r=Pt-(n-i);if(i=n,r>0){if(++e>=Ot)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function j(t,e){return Rt(v(t,e,g),t+"")}function w(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=St}function x(t){return null!=t&&w(t.length)&&!o(t)}function O(t,e){return e=null==e?Dt:e,!!e&&("number"==typeof t||Ft.test(t))&&t>-1&&t%1==0&&t<e}function P(t,e,i){if(!r(i))return!1;var n=typeof e;return!!("number"==n?x(i)&&O(e,i.length):"string"==n&&e in i)&&f(i[e],t)}function A(t){return j(function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:void 0,s=r>2?i[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&P(i[0],i[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var u=i[n];u&&t(e,u,n,o)}return e})}function R(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||Et;return t===i}function S(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function D(t){return null!=t&&"object"==typeof t}function F(t){return D(t)&&n(t)==kt}function E(){return!1}function k(t){return D(t)&&w(t.length)&&!!de[n(t)]}function L(t){return function(e){return t(e)}}function _(t,e){var i=Tt(t),n=!i&&Ct(t),r=!i&&!n&&It(t),o=!i&&!n&&!r&&je(t),s=i||n||r||o,u=s?S(t.length,String):[],a=u.length;for(var c in t)!e&&!xe.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||O(c,a))||u.push(c);return u}function M(t,e){return function(i){return t(e(i))}}function C(t){if(!R(t))return Oe(t);var e=[];for(var i in Object(t))Ae.call(t,i)&&"constructor"!=i&&e.push(i);return e}function T(t){return x(t)?_(t):C(t)}function N(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}function U(t){return function(e,i,n){for(var r=-1,o=Object(e),s=n(e),u=s.length;u--;){var a=s[t?u:++r];if(i(o[a],a,o)===!1)break}return e}}function $(t,e){return t&&Fe(t,e,T)}function B(t,e){return function(i,n){if(null==i)return i;if(!x(i))return t(i,n);for(var r=i.length,o=e?r:-1,s=Object(i);(e?o--:++o<r)&&n(s[o],o,s)!==!1;);return i}}function z(t){return"function"==typeof t?t:g}function I(t,e){var i=Tt(t)?N:Ee;return i(t,z(e))}function q(t){return"number"==typeof t||D(t)&&n(t)==Le}var W="object"==typeof global&&global&&global.Object===Object&&global,H="object"==typeof self&&self&&self.Object===Object&&self,X=W||H||Function("return this")(),Y=X.Symbol,K=Object.prototype,V=K.hasOwnProperty,G=K.toString,J=Y?Y.toStringTag:void 0,Q=Object.prototype,Z=Q.toString,tt="[object Null]",et="[object Undefined]",it=Y?Y.toStringTag:void 0,nt="[object AsyncFunction]",rt="[object Function]",ot="[object GeneratorFunction]",st="[object Proxy]",ut=X["__core-js_shared__"],at=function(){var t=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ct=Function.prototype,ht=ct.toString,lt=/[\\^$.*+?()[\]{}|]/g,ft=/^\[object .+?Constructor\]$/,dt=Function.prototype,pt=Object.prototype,gt=dt.toString,mt=pt.hasOwnProperty,vt=RegExp("^"+gt.call(mt).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=function(){try{var t=h(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),bt=Object.prototype,jt=bt.hasOwnProperty,wt=Math.max,xt=yt?function(t,e){return yt(t,"toString",{configurable:!0,enumerable:!1,value:y(e),writable:!0})}:g,Ot=800,Pt=16,At=Date.now,Rt=b(xt),St=9007199254740991,Dt=9007199254740991,Ft=/^(?:0|[1-9]\d*)$/,Et=Object.prototype,kt="[object Arguments]",Lt=Object.prototype,_t=Lt.hasOwnProperty,Mt=Lt.propertyIsEnumerable,Ct=F(function(){return arguments}())?F:function(t){return D(t)&&_t.call(t,"callee")&&!Mt.call(t,"callee")},Tt=Array.isArray,Nt="object"==typeof t&&t&&!t.nodeType&&t,Ut=Nt&&"object"==typeof module&&module&&!module.nodeType&&module,$t=Ut&&Ut.exports===Nt,Bt=$t?X.Buffer:void 0,zt=Bt?Bt.isBuffer:void 0,It=zt||E,qt="[object Arguments]",Wt="[object Array]",Ht="[object Boolean]",Xt="[object Date]",Yt="[object Error]",Kt="[object Function]",Vt="[object Map]",Gt="[object Number]",Jt="[object Object]",Qt="[object RegExp]",Zt="[object Set]",te="[object String]",ee="[object WeakMap]",ie="[object ArrayBuffer]",ne="[object DataView]",re="[object Float32Array]",oe="[object Float64Array]",se="[object Int8Array]",ue="[object Int16Array]",ae="[object Int32Array]",ce="[object Uint8Array]",he="[object Uint8ClampedArray]",le="[object Uint16Array]",fe="[object Uint32Array]",de={};de[re]=de[oe]=de[se]=de[ue]=de[ae]=de[ce]=de[he]=de[le]=de[fe]=!0,de[qt]=de[Wt]=de[ie]=de[Ht]=de[ne]=de[Xt]=de[Yt]=de[Kt]=de[Vt]=de[Gt]=de[Jt]=de[Qt]=de[Zt]=de[te]=de[ee]=!1;var pe="object"==typeof t&&t&&!t.nodeType&&t,ge=pe&&"object"==typeof module&&module&&!module.nodeType&&module,me=ge&&ge.exports===pe,ve=me&&W.process,ye=function(){try{return ve&&ve.binding&&ve.binding("util")}catch(t){}}(),be=ye&&ye.isTypedArray,je=be?L(be):k,we=Object.prototype,xe=we.hasOwnProperty,Oe=M(Object.keys,Object),Pe=Object.prototype,Ae=Pe.hasOwnProperty,Re=Object.prototype,Se=Re.hasOwnProperty,De=A(function(t,e){if(R(e)||x(e))return void p(e,T(e),t);for(var i in e)Se.call(e,i)&&d(t,i,e[i])}),Fe=U(),Ee=B($),ke={resize:{handler:"onResize",element:window},visibilitychange:{handler:"onVisibilityChange",element:document},keydown:{handler:"onKeyDown",element:document},keyup:{handler:"onKeyUp",element:document},mouseover:{handler:"onMouseOver"},mousemove:{handler:"onMouseMove"},mouseout:{handler:"onMouseOut"},mousedown:{handler:"onMouseDown"},mouseup:{handler:"onMouseUp"}},Le="[object Number]",_e={set:function(t,e){return this.x=t,this.y=e,this},get:function(){return Object.create(_e).set(this.x,this.y)},clear:function(){return delete this.x,delete this.y,this},add:function(t){var e=t.x,i=t.y;return this.x+=e,this.y+=i,this.checkLimitation(),this},subtract:function(t){var e=t.x,i=t.y;return this.x-=e,this.y-=i,this.checkLimitation(),this},multiply:function(t,e){return q(t)&&(this.x*=t,this.y*=t),e!==!1&&this.checkLimitation(),this},divide:function(t,e){return q(t)&&(this.x/=t,this.y/=t),e!==!1&&this.checkLimitation(),this},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},limit:function(t){return this.limitation=t,this.checkLimitation(),this},checkLimitation:function(){if(q(this.limitation)){var t=this.magnitude();t>this.limitation&&this.divide(t,!1).multiply(this.limitation,!1)}return this},normalize:function(){var t=this.magnitude();return 0!==t?this.divide(this.magnitude()):this},toJSON:function(){return{x:this.x,y:this.y}}},Me=De(Object.create(_e),{isDragging:!1,origin:Object.create(_e),delta:Object.create(_e),startDragging:function(t,e){return this.isDragging=!0,this.origin.set(t,e),this.delta.set(0,0),this},stopDragging:function(){return this.isDragging=!1,this.origin.clear(),this.delta.clear(),this},set:function(t,e){if(_e.set.call(this,t,e),this.isDragging){var i=this.get().subtract(this.origin);this.delta.set(i.x,i.y)}return this}}),Ce={autoStart:!0,autoClear:!0,autoPause:!0,requestAnimationFrame:!0,allowFullscreen:!0,fillScreen:!0,supportRetina:!0,backgroundColor:"rgb(20, 20, 20)",addClasses:!0},Te="is-playing",Ne="is-paused",Ue={init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.element=t,this.settings=De({},Ce,e),this.devicePixelRatio=window.devicePixelRatio||1,this.isRetina=this.devicePixelRatio>1,this.isPlaying=!1,this.isPaused=!1,this.context=this.element.getContext("2d",this.settings.contextAttributes),this.pointer=Object.create(Me),this.width=this.element.width,this.height=this.element.height,this.settings.fillScreen&&this.fillScreen(),this.setElementDimensions(),this.setup(),this.settings.autoStart&&this.start(),this},setup:function(){return this},start:function(){return this.isPlaying=!0,this.startTime=Date.now(),this.time=0,this.element.classList.add(Te),this.bindEvents(),this.isPaused?this:this.loop()},pause:function(){return this.isPaused=!0,this.element.classList.add(Ne),this.clearAnimationFrame(),this},play:function(){return this.isPaused=!1,this.element.classList.remove(Ne),this.loop()},stop:function(){this.isPlaying=!1,this.isPaused=!1;var t=this.element.classList;return t.remove(Te),t.remove(Ne),this.clearAnimationFrame(),this.unBindEvents()},destroy:function(){return this.isPlaying&&this.stop(),this.remove(),delete this.element,this},remove:function(){return this.element.parentNode.removeChild(this.element),this},bindEvents:function(){var t=this;return I(ke,function(e,i){var n=e.element;(n||t.element).addEventListener(i,t,!1)}),this},unBindEvents:function(){var t=this;return I(ke,function(e,i){var n=e.element;(n||t.element).removeEventListener(i,t,!1)}),this},loop:function(){var t=Date.now();return this.time=t-this.startTime,this.settings.requestAnimationFrame&&(this.animationFrame=requestAnimationFrame(this.loop.bind(this))),this.settings.frameRate?!this.previousNow||t-this.previousNow>=1e3/this.settings.frameRate?(this.previousNow=t,this.run()):this:this.run()},run:function(){return this.update(),this.settings.supportRetina&&this.isRetina&&(this.context.save(),this.context.scale(this.devicePixelRatio,this.devicePixelRatio)),this.settings.autoClear&&this.clear(),this.draw(),this.settings.supportRetina&&this.isRetina&&this.context.restore(),this},clearAnimationFrame:function(){return cancelAnimationFrame(this.animationFrame),this.previousNow=null,this},update:function(){return this},draw:function(){return this},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle=this.settings.backgroundColor,this.context.fillRect(0,0,this.width,this.height),this},handleEvent:function(t){var e=t.type;if(this.isPaused&&"visibilitychange"!==e&&"resize"!==e)return this;o(this[e])&&this[e](t);var i=ke[e].handler;return o(this[i])&&this[i](t),this},mousedown:function(t){var e=t.pageX,i=t.pageY;return this.pointer.startDragging(e,i),this},mousemove:function(t){var e=t.pageX,i=t.pageY;return this.pointer.set(e,i),this},mouseup:function(t){var e=t.pageX,i=t.pageY;return this.pointer.stopDragging(e,i),this},visibilitychange:function(){return this.settings.autoPause?"visible"===document.visibilityState?this.play():this.pause():this},resize:function(){return this.settings.fillScreen&&this.fillScreen().setElementDimensions(),this},setWidth:function(t){return this.width=this.element.width=t,this.setElementDimensions(),this},setHeight:function(t){return this.height=this.element.height=t,this.setElementDimensions(),this},setElementDimensions:function(){return this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.isRetina&&this.settings.supportRetina?(this.element.width=this.width*this.devicePixelRatio,this.element.height=this.height*this.devicePixelRatio,this):this},fillScreen:function(){return this.setWidth(window.innerWidth).setHeight(window.innerHeight),this}};t.canvas=Ue,t.events=ke,t.vector=_e,t.pointer=Me,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map
