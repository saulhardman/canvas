!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.canvas=t.canvas||{})}(this,function(t){"use strict";function e(t){var e=X.call(t,K),i=t[K];try{t[K]=void 0;var n=!0}catch(t){}var r=Y.call(t);return n&&(e?t[K]=i:delete t[K]),r}function i(t){return W.call(t)}function n(t){return null==t?void 0===t?H:G:J&&J in Object(t)?e(t):i(t)}function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function o(t){if(!r(t))return!1;var e=n(t);return e==Z||e==tt||e==Q||e==et}function s(t){return!!nt&&nt in t}function u(t){if(null!=t){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function a(t){if(!r(t)||s(t))return!1;var e=o(t)?ft:ut;return e.test(u(t))}function c(t,e){return null==t?void 0:t[e]}function h(t,e){var i=c(t,e);return a(i)?i:void 0}function l(t,e,i){"__proto__"==e&&dt?dt(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function f(t,e){return t===e||t!==t&&e!==e}function d(t,e,i){var n=t[e];gt.call(t,e)&&f(n,i)&&(void 0!==i||e in t)||l(t,e,i)}function p(t,e,i,n){var r=!i;i||(i={});for(var o=-1,s=e.length;++o<s;){var u=e[o],a=n?n(i[u],t[u],u,i,t):void 0;void 0===a&&(a=t[u]),r?l(i,u,a):d(i,u,a)}return i}function g(t){return t}function y(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function v(t,e,i){return e=yt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=yt(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=n[r];return u[e]=i(s),y(t,this,u)}}function m(t){return function(){return t}}function b(t){var e=0,i=0;return function(){var n=jt(),r=bt-(n-i);if(i=n,r>0){if(++e>=mt)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function j(t,e){return wt(v(t,e,g),t+"")}function w(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=xt}function x(t){return null!=t&&w(t.length)&&!o(t)}function O(t,e){return e=null==e?Ot:e,!!e&&("number"==typeof t||Pt.test(t))&&t>-1&&t%1==0&&t<e}function P(t,e,i){if(!r(i))return!1;var n=typeof e;return!!("number"==n?x(i)&&O(e,i.length):"string"==n&&e in i)&&f(i[e],t)}function S(t){return j(function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:void 0,s=r>2?i[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&P(i[0],i[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var u=i[n];u&&t(e,u,n,o)}return e})}function A(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||St;return t===i}function R(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function F(t){return null!=t&&"object"==typeof t}function E(t){return F(t)&&n(t)==At}function k(){return!1}function D(t){return F(t)&&w(t.length)&&!!ae[n(t)]}function L(t){return function(e){return t(e)}}function _(t,e){var i=Dt(t),n=!i&&kt(t),r=!i&&!n&&Tt(t),o=!i&&!n&&!r&&ge(t),s=i||n||r||o,u=s?R(t.length,String):[],a=u.length;for(var c in t)!e&&!ve.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||O(c,a))||u.push(c);return u}function z(t,e){return function(i){return t(e(i))}}function M(t){if(!A(t))return me(t);var e=[];for(var i in Object(t))je.call(t,i)&&"constructor"!=i&&e.push(i);return e}function C(t){return x(t)?_(t):M(t)}function T(t){return"number"==typeof t||F(t)&&n(t)==Se}var N="0.1.4-alpha",U="object"==typeof global&&global&&global.Object===Object&&global,$="object"==typeof self&&self&&self.Object===Object&&self,B=U||$||Function("return this")(),I=B.Symbol,q=Object.prototype,X=q.hasOwnProperty,Y=q.toString,K=I?I.toStringTag:void 0,V=Object.prototype,W=V.toString,G="[object Null]",H="[object Undefined]",J=I?I.toStringTag:void 0,Q="[object AsyncFunction]",Z="[object Function]",tt="[object GeneratorFunction]",et="[object Proxy]",it=B["__core-js_shared__"],nt=function(){var t=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),rt=Function.prototype,ot=rt.toString,st=/[\\^$.*+?()[\]{}|]/g,ut=/^\[object .+?Constructor\]$/,at=Function.prototype,ct=Object.prototype,ht=at.toString,lt=ct.hasOwnProperty,ft=RegExp("^"+ht.call(lt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=function(){try{var t=h(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),pt=Object.prototype,gt=pt.hasOwnProperty,yt=Math.max,vt=dt?function(t,e){return dt(t,"toString",{configurable:!0,enumerable:!1,value:m(e),writable:!0})}:g,mt=800,bt=16,jt=Date.now,wt=b(vt),xt=9007199254740991,Ot=9007199254740991,Pt=/^(?:0|[1-9]\d*)$/,St=Object.prototype,At="[object Arguments]",Rt=Object.prototype,Ft=Rt.hasOwnProperty,Et=Rt.propertyIsEnumerable,kt=E(function(){return arguments}())?E:function(t){return F(t)&&Ft.call(t,"callee")&&!Et.call(t,"callee")},Dt=Array.isArray,Lt="object"==typeof t&&t&&!t.nodeType&&t,_t=Lt&&"object"==typeof module&&module&&!module.nodeType&&module,zt=_t&&_t.exports===Lt,Mt=zt?B.Buffer:void 0,Ct=Mt?Mt.isBuffer:void 0,Tt=Ct||k,Nt="[object Arguments]",Ut="[object Array]",$t="[object Boolean]",Bt="[object Date]",It="[object Error]",qt="[object Function]",Xt="[object Map]",Yt="[object Number]",Kt="[object Object]",Vt="[object RegExp]",Wt="[object Set]",Gt="[object String]",Ht="[object WeakMap]",Jt="[object ArrayBuffer]",Qt="[object DataView]",Zt="[object Float32Array]",te="[object Float64Array]",ee="[object Int8Array]",ie="[object Int16Array]",ne="[object Int32Array]",re="[object Uint8Array]",oe="[object Uint8ClampedArray]",se="[object Uint16Array]",ue="[object Uint32Array]",ae={};ae[Zt]=ae[te]=ae[ee]=ae[ie]=ae[ne]=ae[re]=ae[oe]=ae[se]=ae[ue]=!0,ae[Nt]=ae[Ut]=ae[Jt]=ae[$t]=ae[Qt]=ae[Bt]=ae[It]=ae[qt]=ae[Xt]=ae[Yt]=ae[Kt]=ae[Vt]=ae[Wt]=ae[Gt]=ae[Ht]=!1;var ce="object"==typeof t&&t&&!t.nodeType&&t,he=ce&&"object"==typeof module&&module&&!module.nodeType&&module,le=he&&he.exports===ce,fe=le&&U.process,de=function(){try{return fe&&fe.binding&&fe.binding("util")}catch(t){}}(),pe=de&&de.isTypedArray,ge=pe?L(pe):D,ye=Object.prototype,ve=ye.hasOwnProperty,me=z(Object.keys,Object),be=Object.prototype,je=be.hasOwnProperty,we=Object.prototype,xe=we.hasOwnProperty,Oe=S(function(t,e){if(A(e)||x(e))return void p(e,C(e),t);for(var i in e)xe.call(e,i)&&d(t,i,e[i])}),Pe={resize:{handler:"onResize",element:window},visibilitychange:{handler:"onVisibilityChange",element:document},keydown:{handler:"onKeyDown",element:document},keyup:{handler:"onKeyUp",element:document},mouseover:{handler:"onMouseOver"},mousemove:{handler:"onMouseMove"},mouseout:{handler:"onMouseOut"},mousedown:{handler:"onMouseDown"},mouseup:{handler:"onMouseUp"}},Se="[object Number]",Ae={set:function(t,e){return this.x=t,this.y=e,this},get:function(){return Object.create(Ae).set(this.x,this.y)},clear:function(){return delete this.x,delete this.y,this},add:function(t){var e=t.x,i=t.y;return this.x+=e,this.y+=i,this.checkLimitation(),this},subtract:function(t){var e=t.x,i=t.y;return this.x-=e,this.y-=i,this.checkLimitation(),this},multiply:function(t,e){return T(t)&&(this.x*=t,this.y*=t),e!==!1&&this.checkLimitation(),this},divide:function(t,e){return T(t)&&(this.x/=t,this.y/=t),e!==!1&&this.checkLimitation(),this},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},limit:function(t){return this.limitation=t,this.checkLimitation(),this},checkLimitation:function(){if(T(this.limitation)){var t=this.magnitude();t>this.limitation&&this.divide(t,!1).multiply(this.limitation,!1)}return this},normalize:function(){var t=this.magnitude();return 0!==t?this.divide(this.magnitude()):this},toJSON:function(){return{x:this.x,y:this.y}}},Re=Oe(Object.create(Ae),{isDragging:!1,origin:Object.create(Ae),delta:Object.create(Ae),startDragging:function(t,e){return this.isDragging=!0,this.origin.set(t,e),this.delta.set(0,0),this},stopDragging:function(){return this.isDragging=!1,this.origin.clear(),this.delta.clear(),this},set:function(t,e){if(Ae.set.call(this,t,e),this.isDragging){var i=this.get().subtract(this.origin);this.delta.set(i.x,i.y)}return this}}),Fe={autoStart:!0,autoClear:!0,autoPause:!0,requestAnimationFrame:!0,allowFullscreen:!0,fillScreen:!0,supportRetina:!0,backgroundColor:"rgb(20, 20, 20)",addClasses:!0},Ee="is-playing",ke="is-paused",De={init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,n=t.height;return this.element=t,this.settings=Oe({},Fe,e),this.devicePixelRatio=window.devicePixelRatio||1,this.isRetina=this.devicePixelRatio>1,this.isPlaying=!1,this.isPaused=!1,this.context=t.getContext("2d",this.settings.contextAttributes),this.pointer=Object.create(Re),this.setSize({width:i,height:n}),this.settings.fillScreen&&this.fillScreen(),this.setup(),this.settings.autoStart&&this.start(),this},setup:function(){return this},start:function(){return this.isPlaying=!0,this.startTime=Date.now(),this.time=0,this.element.classList.add(Ee),this.bindEvents(),this.isPaused?this:this.loop()},pause:function(){return this.isPaused=!0,this.element.classList.add(ke),this.clearAnimationFrame(),this},play:function(){return this.isPaused=!1,this.element.classList.remove(ke),this.loop()},stop:function(){this.isPlaying=!1,this.isPaused=!1;var t=this.element.classList;return t.remove(Ee),t.remove(ke),this.clearAnimationFrame(),this.unBindEvents()},destroy:function(){return this.isPlaying&&this.stop(),this.remove(),delete this.element,this},remove:function(){return this.element.parentNode.removeChild(this.element),this},bindEvents:function(){var t=this;return Object.keys(Pe).forEach(function(e){var i=Pe[e].element;(i||t.element).addEventListener(e,t,!1)}),this},unBindEvents:function(){var t=this;return Object.keys(Pe).forEach(function(e){var i=Pe[e].element;(i||t.element).removeEventListener(e,t,!1)}),this},loop:function(){var t=Date.now();return this.time=t-this.startTime,this.settings.requestAnimationFrame&&(this.animationFrame=requestAnimationFrame(this.loop.bind(this))),this.settings.frameRate?!this.previousNow||t-this.previousNow>=1e3/this.settings.frameRate?(this.previousNow=t,this.run()):this:this.run()},run:function(){return this.update(),this.settings.supportRetina&&this.isRetina&&(this.context.save(),this.context.scale(this.devicePixelRatio,this.devicePixelRatio)),this.settings.autoClear&&this.clear(),this.draw(),this.settings.supportRetina&&this.isRetina&&this.context.restore(),this},clearAnimationFrame:function(){return cancelAnimationFrame(this.animationFrame),this.previousNow=null,this},update:function(){return this},draw:function(){return this},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle=this.settings.backgroundColor,this.context.fillRect(0,0,this.width,this.height),this},handleEvent:function(t){var e=t.type;if(this.isPaused&&"visibilitychange"!==e&&"resize"!==e)return this;o(this[e])&&this[e](t);var i=Pe[e].handler;return o(this[i])&&this[i](t),this},mousedown:function(t){var e=t.pageX,i=t.pageY;return this.pointer.startDragging(e,i),this},mousemove:function(t){var e=t.pageX,i=t.pageY;return this.pointer.set(e,i),this},mouseup:function(t){var e=t.pageX,i=t.pageY;return this.pointer.stopDragging(e,i),this},visibilitychange:function(){return this.settings.autoPause?"visible"===document.visibilityState?this.play():this.pause():this},resize:function(){return this.settings.fillScreen&&this.fillScreen().setElementSize(),this},setSize:function(t){var e=t.width,i=void 0===e?this.width:e,n=t.height,r=void 0===n?this.height:n;return this.width=this.element.width=i,this.height=this.element.height=r,this.setElementSize()},setElementSize:function(){return this.isRetina&&this.settings.supportRetina?(this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.element.width=this.width*this.devicePixelRatio,this.element.height=this.height*this.devicePixelRatio,this):this},fillScreen:function(){return this.setSize({width:window.innerWidth,height:window.innerHeight}),this}};t.version=N,t.canvas=De,t.events=Pe,t.vector=Ae,t.pointer=Re,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map
