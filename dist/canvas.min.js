!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.canvas=n():t.canvas=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),o=i(r),s=e(13),u=i(s),a=e(28),c=i(a),h=e(29),l=i(h),f=e(30),p=i(f),d={defaults:{autoStart:!0,autoClear:!0,autoPause:!0,requestAnimationFrame:!0,allowFullscreen:!0,fillScreen:!0,supportRetina:!0,backgroundColor:"rgb(20, 20, 20)",addClasses:!0},init:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.element=t,this.settings=Object.assign(this.defaults,n),this.ratio=window.devicePixelRatio||1,this.isRetina=this.ratio>1,this.isPaused=!1,this.isRunning=!1,this.context=this.element.getContext("2d",this.settings.contextAttributes),this.pointer=Object.create(l["default"]),this.width=this.element.width,this.height=this.element.height,this.element.classList.add("canvas"),this.resize(),this.setup(),this.settings.autoStart&&this.start(),this},setup:function(){return this},start:function(){return this.isRunning=!0,this.startTime=Date.now(),this.time=0,this.element.classList.add("canvas--is-running"),this.bindEvents(),this.isPaused?this:this.loop()},pause:function(){return this.isPaused=!0,this.element.classList.add("canvas--is-paused"),this.clearAnimationFrame(),this},unPause:function(){return this.isPaused=!1,this.element.classList.remove("canvas--is-paused"),this.loop(),this},stop:function(){var t;return this.isRunning=!1,this.isPaused=!1,t=this.element.classList,t.remove("canvas--is-running"),t.remove("canvas--is-paused"),this.clearAnimationFrame(),this.unBindEvents()},destroy:function(){return this.isRunning&&this.stop(),this.remove(),delete this.element,this},remove:function(){return this.element.parentNode.removeChild(this.element),this},bindEvents:function(){var t=this;return o["default"](c["default"],function(n,e){var i=n.element;(i||t.element).addEventListener(e,t,!1)}),this},unBindEvents:function(){var t=this;return o["default"](c["default"],function(n,e){var i=n.element;(i||t.element).removeEventListener(e,t,!1)}),this},loop:function(){var t=Date.now();return this.time=t-this.startTime,this.settings.requestAnimationFrame&&(this.animationFrame=requestAnimationFrame(this.loop.bind(this))),this.settings.frameRate?!this.previousNow||t-this.previousNow>=1e3/this.settings.frameRate?(this.previousNow=t,this.run()):this:this.run()},run:function(){return this.update(),this.settings.supportRetina&&this.isRetina&&(this.context.save(),this.context.scale(this.ratio,this.ratio)),this.settings.autoClear&&this.clear(),this.draw(),this.settings.supportRetina&&this.isRetina&&this.context.restore(),this},clearAnimationFrame:function(){return cancelAnimationFrame(this.animationFrame),this.previousNow=null,this},update:function(){return this},draw:function(){return this},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle=this.settings.backgroundColor,this.context.fillRect(0,0,this.width,this.height),this},handleEvent:function(t){var n,e=t.type;return this.isPaused&&"visibilitychange"!==e&&"resize"!==e?this:(u["default"](this[e])&&this[e](t),n=c["default"][t.type].handler,u["default"](this[n])&&this[n](t),this)},mousedown:function(t){var n=t.pageX,e=t.pageY;return this.pointer.startDragging(n,e),this},mousemove:function(t){var n=t.pageX,e=t.pageY;return this.pointer.set(n,e),this},mouseup:function(t){var n=t.pageX,e=t.pageY;return this.pointer.stopDragging(n,e),this},visibilitychange:function(){return this.settings.autoPause?"visible"===document.visibilityState?this.unPause():this.pause():this},resize:function(){return this.fillScreen().retinafy(),this},fillScreen:function(){return this.settings.fillScreen?(this.width=this.element.width=window.innerWidth,this.height=this.element.height=window.innerHeight,this):this},retinafy:function(){return this.settings.supportRetina&&this.isRetina?(this.element.width*=this.ratio,this.element.height*=this.ratio,this):this}};n.canvas=d,n.events=c["default"],n.pointer=l["default"],n.vector=p["default"],n["default"]=d},function(t,n,e){var i,r;i=[e(3),e(4),e(25)],r=function(t,n,e){var i=e(t,n);return i}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t,n){for(var e=-1,i=t.length;++e<i&&n(t[e],e,t)!==!1;);return t}return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(5),e(24)],r=function(t,n){var e=n(t);return e}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(6),e(10)],r=function(t,n){function e(e,i){return t(e,i,n)}return e}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(7)],r=function(t){var n=t();return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(8)],r=function(t){function n(n){return function(e,i,r){for(var o=t(e),s=r(e),u=s.length,a=n?u:-1;n?a--:++a<u;){var c=s[a];if(i(o[c],c,o)===!1)break}return e}}return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(9)],r=function(t){function n(n){return t(n)?n:Object(n)}return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(11),e(15),e(9),e(19)],r=function(t,n,e,i){var r,o=t(Object,"keys"),s=o?function(t){var s=null==t?r:t.constructor;return"function"==typeof s&&s.prototype===t||"function"!=typeof t&&n(t)?i(t):e(t)?o(t):[]}:i;return s}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(12)],r=function(t){function n(n,i){var r=null==n?e:n[i];return t(r)?r:e}var e;return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(13),e(14)],r=function(t,n){function e(e){return null==e?!1:t(e)?u.test(o.call(e)):n(e)&&i.test(e)}var i=/^\[object .+?Constructor\]$/,r=Object.prototype,o=Function.prototype.toString,s=r.hasOwnProperty,u=RegExp("^"+o.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return e}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(9)],r=function(t){function n(n){return t(n)&&r.call(n)==e}var e="[object Function]",i=Object.prototype,r=i.toString;return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t){return!!t&&"object"==typeof t}return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(16),e(18)],r=function(t,n){function e(e){return null!=e&&n(t(e))}return e}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(17)],r=function(t){var n=t("length");return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t){return function(e){return null==e?n:e[t]}}var n;return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t){return"number"==typeof t&&t>-1&&t%1==0&&n>=t}var n=9007199254740991;return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(20),e(21),e(22),e(18),e(23)],r=function(t,n,e,i,r){function o(o){for(var s=r(o),a=s.length,c=a&&o.length,h=!!c&&i(c)&&(n(o)||t(o)),l=-1,f=[];++l<a;){var p=s[l];(h&&e(p,c)||u.call(o,p))&&f.push(p)}return f}var s=Object.prototype,u=s.hasOwnProperty;return o}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(15),e(14)],r=function(t,n){function e(e){return n(e)&&t(e)&&r.call(e,"callee")&&!o.call(e,"callee")}var i=Object.prototype,r=i.hasOwnProperty,o=i.propertyIsEnumerable;return e}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(11),e(18),e(14)],r=function(t,n,e){var i="[object Array]",r=Object.prototype,o=r.toString,s=t(Array,"isArray"),u=s||function(t){return e(t)&&n(t.length)&&o.call(t)==i};return u}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t,i){return t="number"==typeof t||n.test(t)?+t:-1,i=null==i?e:i,t>-1&&t%1==0&&i>t}var n=/^\d+$/,e=9007199254740991;return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(20),e(21),e(22),e(18),e(9)],r=function(t,n,e,i,r){function o(o){if(null==o)return[];r(o)||(o=Object(o));var s=o.length;s=s&&i(s)&&(n(o)||t(o))&&s||0;for(var a=o.constructor,c=-1,h="function"==typeof a&&a.prototype===o,l=Array(s),f=s>0;++c<s;)l[c]=c+"";for(var p in o)f&&e(p,s)||"constructor"==p&&(h||!u.call(o,p))||l.push(p);return l}var s=Object.prototype,u=s.hasOwnProperty;return o}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(16),e(18),e(8)],r=function(t,n,e){function i(i,r){return function(o,s){var u=o?t(o):0;if(!n(u))return i(o,s);for(var a=r?u:-1,c=e(o);(r?a--:++a<u)&&s(c[a],a,c)!==!1;);return o}}return i}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(26),e(21)],r=function(t,n){function e(e,r){return function(o,s,u){return"function"==typeof s&&u===i&&n(o)?e(o,s):r(o,t(s,u,3))}}var i;return e}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[e(27)],r=function(t){function n(n,i,r){if("function"!=typeof n)return t;if(i===e)return n;switch(r){case 1:return function(t){return n.call(i,t)};case 3:return function(t,e,r){return n.call(i,t,e,r)};case 4:return function(t,e,r,o){return n.call(i,t,e,r,o)};case 5:return function(t,e,r,o,s){return n.call(i,t,e,r,o,s)}}return function(){return n.apply(i,arguments)}}var e;return n}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n,e){var i,r;i=[],r=function(){function t(t){return t}return t}.apply(n,i),!(void 0!==r&&(t.exports=r))},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={resize:{handler:"onResize",element:window},visibilitychange:{handler:"onVisibilityChange",element:document},keydown:{handler:"onKeyDown",element:document},keyup:{handler:"onKeyUp",element:document},mouseover:{handler:"onMouseOver"},mousemove:{handler:"onMouseMove"},mouseout:{handler:"onMouseOut"},mousedown:{handler:"onMouseDown"},mouseup:{handler:"onMouseUp"}},t.exports=n["default"]},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(30),o=i(r),s=Object.assign(Object.create(o["default"]),{isDragging:!1,origin:Object.create(o["default"]),delta:Object.create(o["default"]),startDragging:function(t,n){return this.isDragging=!0,this.origin.set(t,n),this.delta.set(0,0),this},stopDragging:function(t,n){return this.isDragging=!1,this.origin.clear(),this.delta.clear(),this},set:function(t,n){var e;return o["default"].set.call(this,t,n),this.isDragging&&(e=this.get().subtract(this.origin),this.delta.set(e.x,e.y)),this}});n["default"]=s,t.exports=n["default"]},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(31),o=i(r),s={set:function(t,n){return this.x=t,this.y=n,this},get:function(){return Object.create(s).set(this.x,this.y)},clear:function(){return delete this.x,delete this.y,this},add:function(t){var n=t.x,e=t.y;return this.x+=n,this.y+=e,this.checkLimitation(),this},subtract:function(t){var n=t.x,e=t.y;return this.x-=n,this.y-=e,this.checkLimitation(),this},multiply:function(t,n){return o["default"](t)&&(this.x*=t,this.y*=t),n!==!1&&this.checkLimitation(),this},divide:function(t,n){return o["default"](t)&&(this.x/=t,this.y/=t),n!==!1&&this.checkLimitation(),this},magnitude:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},limit:function(t){return this.limitation=t,this.checkLimitation(),this},checkLimitation:function(){var t;return o["default"](this.limitation)&&(t=this.magnitude(),t>this.limitation&&this.divide(t,!1).multiply(this.limitation,!1)),this},normalize:function(){var t=this.magnitude();return 0!==t?this.divide(this.magnitude()):this},toJSON:function(){return{x:this.x,y:this.y}}};n["default"]=s,t.exports=n["default"]},function(t,n,e){var i,r;i=[e(14)],r=function(t){function n(n){return"number"==typeof n||t(n)&&r.call(n)==e}var e="[object Number]",i=Object.prototype,r=i.toString;return n}.apply(n,i),!(void 0!==r&&(t.exports=r))}])});