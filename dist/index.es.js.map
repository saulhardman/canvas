{"version":3,"file":null,"sources":["../src/events.js","../src/vector.js","../src/pointer.js","../src/canvas.js"],"sourcesContent":["const events = {\n  resize: {\n    handler: 'onResize',\n    element: window,\n  },\n  visibilitychange: {\n    handler: 'onVisibilityChange',\n    element: document,\n  },\n  keydown: {\n    handler: 'onKeyDown',\n    element: document,\n  },\n  keyup: {\n    handler: 'onKeyUp',\n    element: document,\n  },\n  mouseover: {\n    handler: 'onMouseOver',\n  },\n  mousemove: {\n    handler: 'onMouseMove',\n  },\n  mouseout: {\n    handler: 'onMouseOut',\n  },\n  mousedown: {\n    handler: 'onMouseDown',\n  },\n  mouseup: {\n    handler: 'onMouseUp',\n  },\n  // TODO: support touch events\n  // touchstart: {\n  //   handler: 'onTouchStart',\n  // },\n  // touchmove: {\n  //   handler: 'onTouchStart',\n  // },\n  // touchend: {\n  //   handler: 'onTouchEnd',\n  // },\n};\n\nexport default events;\n","import isNumber from 'lodash-es/isNumber';\n\nconst vector = {\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n\n    return this;\n  },\n  get() {\n    return Object.create(vector).set(this.x, this.y);\n  },\n  clear() {\n    delete this.x;\n    delete this.y;\n\n    return this;\n  },\n  add({ x, y }) {\n    this.x += x;\n\n    this.y += y;\n\n    this.checkLimitation();\n\n    return this;\n  },\n  subtract({ x, y }) {\n    this.x -= x;\n\n    this.y -= y;\n\n    this.checkLimitation();\n\n    return this;\n  },\n  multiply(multiplier, check) {\n    if (isNumber(multiplier)) {\n      this.x *= multiplier;\n\n      this.y *= multiplier;\n    }\n\n    // TODO: handle case of multiplier being a vector\n\n    if (check !== false) {\n      this.checkLimitation();\n    }\n\n    return this;\n  },\n  divide(divisor, check) {\n    if (isNumber(divisor)) {\n      this.x /= divisor;\n\n      this.y /= divisor;\n    }\n\n    // TODO: handle case of divisor being a vector\n\n    if (check !== false) {\n      this.checkLimitation();\n    }\n\n    return this;\n  },\n  magnitude() {\n    return Math.sqrt((this.x * this.x) + (this.y * this.y));\n  },\n  limit(limitation) {\n    this.limitation = limitation;\n\n    this.checkLimitation();\n\n    return this;\n  },\n  checkLimitation() {\n    if (isNumber(this.limitation)) {\n      const magnitude = this.magnitude();\n\n      if (magnitude > this.limitation) {\n        this.divide(magnitude, false).multiply(this.limitation, false);\n      }\n    }\n\n    return this;\n  },\n  normalize() {\n    const magnitude = this.magnitude();\n\n    if (magnitude !== 0) {\n      return this.divide(this.magnitude());\n    }\n\n    return this;\n  },\n  toJSON() {\n    return {\n      x: this.x,\n      y: this.y,\n    };\n  },\n};\n\nexport default vector;\n","import assign from 'lodash-es/assign';\n\nimport vector from './vector';\n\nconst pointer = assign(Object.create(vector), {\n  isDragging: false,\n  origin: Object.create(vector),\n  delta: Object.create(vector),\n  startDragging(x, y) {\n    this.isDragging = true;\n\n    this.origin.set(x, y);\n    this.delta.set(0, 0);\n\n    return this;\n  },\n  stopDragging() {\n    this.isDragging = false;\n\n    this.origin.clear();\n    this.delta.clear();\n\n    return this;\n  },\n  set(x, y) {\n    vector.set.call(this, x, y);\n\n    if (this.isDragging) {\n      const delta = this.get().subtract(this.origin);\n\n      this.delta.set(delta.x, delta.y);\n    }\n\n    return this;\n  },\n});\n\nexport default pointer;\n","import assign from 'lodash-es/assign';\nimport forEach from 'lodash-es/forEach';\nimport isFunction from 'lodash-es/isFunction';\n\nimport events from './events';\nimport pointer from './pointer';\n\nconst DEFAULT_OPTIONS = {\n  autoStart: true,\n  autoClear: true,\n  autoPause: true,\n  requestAnimationFrame: true,\n  allowFullscreen: true,\n  fillScreen: true,\n  supportRetina: true,\n  backgroundColor: 'rgb(20, 20, 20)',\n  addClasses: true,\n};\nconst PLAYING_STATE_CLASS = 'is-playing';\nconst PAUSED_STATE_CLASS = 'is-paused';\n\nconst canvas = {\n  init(element, options = {}) {\n    this.element = element;\n    this.settings = assign({}, DEFAULT_OPTIONS, options);\n    this.devicePixelRatio = window.devicePixelRatio || 1;\n    this.isRetina = this.devicePixelRatio > 1;\n    this.isPlaying = false;\n    this.isPaused = false;\n    this.context = this.element.getContext('2d', this.settings.contextAttributes);\n    this.pointer = Object.create(pointer);\n    this.width = this.element.width;\n    this.height = this.element.height;\n\n    if (this.settings.fillScreen) {\n      this.fillScreen();\n    }\n\n    this.setElementDimensions();\n\n    this.setup();\n\n    if (this.settings.autoStart) {\n      this.start();\n    }\n\n    return this;\n  },\n  setup() {\n    return this;\n  },\n  start() {\n    this.isPlaying = true;\n\n    this.startTime = Date.now();\n\n    this.time = 0;\n\n    this.element.classList.add(PLAYING_STATE_CLASS);\n\n    this.bindEvents();\n\n    if (this.isPaused) {\n      return this;\n    }\n\n    return this.loop();\n  },\n  pause() {\n    this.isPaused = true;\n\n    this.element.classList.add(PAUSED_STATE_CLASS);\n\n    this.clearAnimationFrame();\n\n    return this;\n  },\n  play() {\n    this.isPaused = false;\n\n    this.element.classList.remove(PAUSED_STATE_CLASS);\n\n    return this.loop();\n  },\n  stop() {\n    this.isPlaying = false;\n    this.isPaused = false;\n\n    const classList = this.element.classList;\n\n    classList.remove(PLAYING_STATE_CLASS);\n    classList.remove(PAUSED_STATE_CLASS);\n\n    this.clearAnimationFrame();\n\n    return this.unBindEvents();\n  },\n  destroy() {\n    if (this.isPlaying) {\n      this.stop();\n    }\n\n    this.remove();\n\n    delete this.element;\n\n    return this;\n  },\n  remove() {\n    this.element.parentNode.removeChild(this.element);\n\n    return this;\n  },\n  bindEvents() {\n    // NOTE: pass all events to handleEvent (special) function\n    forEach(events, ({ element }, name) => {\n      (element || this.element).addEventListener(name, this, false);\n    });\n\n    return this;\n  },\n  unBindEvents() {\n    forEach(events, ({ element }, name) => {\n      (element || this.element).removeEventListener(name, this, false);\n    });\n\n    return this;\n  },\n  loop() {\n    const now = Date.now();\n\n    this.time = now - this.startTime;\n\n    if (this.settings.requestAnimationFrame) {\n      this.animationFrame = requestAnimationFrame(this.loop.bind(this));\n    }\n\n    // NOTE: frameRate === 0, false, undefined, null\n    if (!this.settings.frameRate) {\n      return this.run();\n    }\n\n    if (!this.previousNow || now - this.previousNow >= 1000 / this.settings.frameRate) {\n      this.previousNow = now;\n\n      return this.run();\n    }\n\n    return this;\n  },\n  run() {\n    this.update();\n\n    if (this.settings.supportRetina && this.isRetina) {\n      this.context.save();\n\n      this.context.scale(this.devicePixelRatio, this.devicePixelRatio);\n    }\n\n    if (this.settings.autoClear) {\n      this.clear();\n    }\n\n    this.draw();\n\n    if (this.settings.supportRetina && this.isRetina) {\n      this.context.restore();\n    }\n\n    return this;\n  },\n  clearAnimationFrame() {\n    cancelAnimationFrame(this.animationFrame);\n\n    this.previousNow = null;\n\n    return this;\n  },\n  update() {\n    return this;\n  },\n  draw() {\n    return this;\n  },\n  clear() {\n    this.context.clearRect(0, 0, this.width, this.height);\n\n    this.context.fillStyle = this.settings.backgroundColor;\n\n    this.context.fillRect(0, 0, this.width, this.height);\n\n    return this;\n  },\n  handleEvent(event) {\n    const { type } = event;\n\n    // NOTE: only allow visibilitychange and resize events whilst paused\n    if (this.isPaused &&\n        type !== 'visibilitychange' &&\n        type !== 'resize') {\n      return this;\n    }\n\n    if (isFunction(this[type])) {\n      this[type](event);\n    }\n\n    const handler = events[type].handler;\n\n    if (isFunction(this[handler])) {\n      this[handler](event);\n    }\n\n    return this;\n  },\n  mousedown({ pageX, pageY }) {\n    this.pointer.startDragging(pageX, pageY);\n\n    return this;\n  },\n  mousemove({ pageX, pageY }) {\n    this.pointer.set(pageX, pageY);\n\n    return this;\n  },\n  mouseup({ pageX, pageY }) {\n    this.pointer.stopDragging(pageX, pageY);\n\n    return this;\n  },\n  visibilitychange() {\n    if (!this.settings.autoPause) {\n      return this;\n    }\n\n    if (document.visibilityState === 'visible') {\n      return this.play();\n    }\n\n    return this.pause();\n  },\n  resize() {\n    if (this.settings.fillScreen) {\n      this.fillScreen()\n          .setElementDimensions();\n    }\n\n    return this;\n  },\n  setWidth(width) {\n    this.width = this.element.width = width;\n\n    this.setElementDimensions();\n\n    return this;\n  },\n  setHeight(height) {\n    this.height = this.element.height = height;\n\n    this.setElementDimensions();\n\n    return this;\n  },\n  setElementDimensions() {\n    this.element.style.width = `${this.width}px`;\n    this.element.style.height = `${this.height}px`;\n\n    if (!this.isRetina || !this.settings.supportRetina) {\n      return this;\n    }\n\n    this.element.width = this.width * this.devicePixelRatio;\n    this.element.height = this.height * this.devicePixelRatio;\n\n    return this;\n  },\n  fillScreen() {\n    this.setWidth(window.innerWidth)\n        .setHeight(window.innerHeight);\n\n    return this;\n  },\n};\n\nexport default canvas;\n"],"names":[],"mappings":";;;;;AAAA,MAAM,MAAM,GAAG;EACb,MAAM,EAAE;IACN,OAAO,EAAE,UAAU;IACnB,OAAO,EAAE,MAAM;GAChB;EACD,gBAAgB,EAAE;IAChB,OAAO,EAAE,oBAAoB;IAC7B,OAAO,EAAE,QAAQ;GAClB;EACD,OAAO,EAAE;IACP,OAAO,EAAE,WAAW;IACpB,OAAO,EAAE,QAAQ;GAClB;EACD,KAAK,EAAE;IACL,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,QAAQ;GAClB;EACD,SAAS,EAAE;IACT,OAAO,EAAE,aAAa;GACvB;EACD,SAAS,EAAE;IACT,OAAO,EAAE,aAAa;GACvB;EACD,QAAQ,EAAE;IACR,OAAO,EAAE,YAAY;GACtB;EACD,SAAS,EAAE;IACT,OAAO,EAAE,aAAa;GACvB;EACD,OAAO,EAAE;IACP,OAAO,EAAE,WAAW;GACrB;;;;;;;;;;;CAWF,CAAC,AAEF,AAAsB;;AC1CtB,MAAM,MAAM,GAAG;EACb,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE;IACR,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;;IAEX,OAAO,IAAI,CAAC;GACb;EACD,GAAG,GAAG;IACJ,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;GAClD;EACD,KAAK,GAAG;IACN,OAAO,IAAI,CAAC,CAAC,CAAC;IACd,OAAO,IAAI,CAAC,CAAC,CAAC;;IAEd,OAAO,IAAI,CAAC;GACb;EACD,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;;IAEZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;;IAEZ,IAAI,CAAC,eAAe,EAAE,CAAC;;IAEvB,OAAO,IAAI,CAAC;GACb;EACD,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IACjB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;;IAEZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;;IAEZ,IAAI,CAAC,eAAe,EAAE,CAAC;;IAEvB,OAAO,IAAI,CAAC;GACb;EACD,QAAQ,CAAC,UAAU,EAAE,KAAK,EAAE;IAC1B,IAAI,QAAQ,CAAC,UAAU,CAAC,EAAE;MACxB,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;;MAErB,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC;KACtB;;;;IAID,IAAI,KAAK,KAAK,KAAK,EAAE;MACnB,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;IAED,OAAO,IAAI,CAAC;GACb;EACD,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE;IACrB,IAAI,QAAQ,CAAC,OAAO,CAAC,EAAE;MACrB,IAAI,CAAC,CAAC,IAAI,OAAO,CAAC;;MAElB,IAAI,CAAC,CAAC,IAAI,OAAO,CAAC;KACnB;;;;IAID,IAAI,KAAK,KAAK,KAAK,EAAE;MACnB,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;IAED,OAAO,IAAI,CAAC;GACb;EACD,SAAS,GAAG;IACV,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;GACzD;EACD,KAAK,CAAC,UAAU,EAAE;IAChB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;IAE7B,IAAI,CAAC,eAAe,EAAE,CAAC;;IAEvB,OAAO,IAAI,CAAC;GACb;EACD,eAAe,GAAG;IAChB,IAAI,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;MAC7B,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;;MAEnC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,EAAE;QAC/B,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;OAChE;KACF;;IAED,OAAO,IAAI,CAAC;GACb;EACD,SAAS,GAAG;IACV,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;;IAEnC,IAAI,SAAS,KAAK,CAAC,EAAE;MACnB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;KACtC;;IAED,OAAO,IAAI,CAAC;GACb;EACD,MAAM,GAAG;IACP,OAAO;MACL,CAAC,EAAE,IAAI,CAAC,CAAC;MACT,CAAC,EAAE,IAAI,CAAC,CAAC;KACV,CAAC;GACH;CACF,CAAC,AAEF,AAAsB;;ACpGtB,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;EAC5C,UAAU,EAAE,KAAK;EACjB,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;EAC7B,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;EAC5B,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;IAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;;IAEvB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;IAErB,OAAO,IAAI,CAAC;GACb;EACD,YAAY,GAAG;IACb,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;;IAExB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACpB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;;IAEnB,OAAO,IAAI,CAAC;GACb;EACD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE;IACR,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;IAE5B,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;MAE/C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;KAClC;;IAED,OAAO,IAAI,CAAC;GACb;CACF,CAAC,CAAC,AAEH,AAAuB;;AC9BvB,MAAM,eAAe,GAAG;EACtB,SAAS,EAAE,IAAI;EACf,SAAS,EAAE,IAAI;EACf,SAAS,EAAE,IAAI;EACf,qBAAqB,EAAE,IAAI;EAC3B,eAAe,EAAE,IAAI;EACrB,UAAU,EAAE,IAAI;EAChB,aAAa,EAAE,IAAI;EACnB,eAAe,EAAE,iBAAiB;EAClC,UAAU,EAAE,IAAI;CACjB,CAAC;AACF,MAAM,mBAAmB,GAAG,YAAY,CAAC;AACzC,MAAM,kBAAkB,GAAG,WAAW,CAAC;;AAEvC,MAAM,MAAM,GAAG;EACb,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE;IAC1B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACvB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,EAAE,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;IACrD,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC;IACrD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;IAC1C,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;IAC9E,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;IAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;;IAElC,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;MAC5B,IAAI,CAAC,UAAU,EAAE,CAAC;KACnB;;IAED,IAAI,CAAC,oBAAoB,EAAE,CAAC;;IAE5B,IAAI,CAAC,KAAK,EAAE,CAAC;;IAEb,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;MAC3B,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;;IAED,OAAO,IAAI,CAAC;GACb;EACD,KAAK,GAAG;IACN,OAAO,IAAI,CAAC;GACb;EACD,KAAK,GAAG;IACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;IAEtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;;IAE5B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;;IAEd,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;;IAEhD,IAAI,CAAC,UAAU,EAAE,CAAC;;IAElB,IAAI,IAAI,CAAC,QAAQ,EAAE;MACjB,OAAO,IAAI,CAAC;KACb;;IAED,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC;GACpB;EACD,KAAK,GAAG;IACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;IAErB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;;IAE/C,IAAI,CAAC,mBAAmB,EAAE,CAAC;;IAE3B,OAAO,IAAI,CAAC;GACb;EACD,IAAI,GAAG;IACL,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;;IAEtB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;;IAElD,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC;GACpB;EACD,IAAI,GAAG;IACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;;IAEtB,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;;IAEzC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;IACtC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;;IAErC,IAAI,CAAC,mBAAmB,EAAE,CAAC;;IAE3B,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;GAC5B;EACD,OAAO,GAAG;IACR,IAAI,IAAI,CAAC,SAAS,EAAE;MAClB,IAAI,CAAC,IAAI,EAAE,CAAC;KACb;;IAED,IAAI,CAAC,MAAM,EAAE,CAAC;;IAEd,OAAO,IAAI,CAAC,OAAO,CAAC;;IAEpB,OAAO,IAAI,CAAC;GACb;EACD,MAAM,GAAG;IACP,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;IAElD,OAAO,IAAI,CAAC;GACb;EACD,UAAU,GAAG;;IAEX,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,IAAI,KAAK;MACrC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAC/D,CAAC,CAAC;;IAEH,OAAO,IAAI,CAAC;GACb;EACD,YAAY,GAAG;IACb,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,IAAI,KAAK;MACrC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAClE,CAAC,CAAC;;IAEH,OAAO,IAAI,CAAC;GACb;EACD,IAAI,GAAG;IACL,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;;IAEvB,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;;IAEjC,IAAI,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE;MACvC,IAAI,CAAC,cAAc,GAAG,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACnE;;;IAGD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;MAC5B,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;KACnB;;IAED,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;MACjF,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;;MAEvB,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;KACnB;;IAED,OAAO,IAAI,CAAC;GACb;EACD,GAAG,GAAG;IACJ,IAAI,CAAC,MAAM,EAAE,CAAC;;IAEd,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,EAAE;MAChD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;;MAEpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAClE;;IAED,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;MAC3B,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;;IAED,IAAI,CAAC,IAAI,EAAE,CAAC;;IAEZ,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,EAAE;MAChD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;KACxB;;IAED,OAAO,IAAI,CAAC;GACb;EACD,mBAAmB,GAAG;IACpB,oBAAoB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;;IAE1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;IAExB,OAAO,IAAI,CAAC;GACb;EACD,MAAM,GAAG;IACP,OAAO,IAAI,CAAC;GACb;EACD,IAAI,GAAG;IACL,OAAO,IAAI,CAAC;GACb;EACD,KAAK,GAAG;IACN,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;;IAEtD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;;IAEvD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;;IAErD,OAAO,IAAI,CAAC;GACb;EACD,WAAW,CAAC,KAAK,EAAE;IACjB,MAAM,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC;;;IAGvB,IAAI,IAAI,CAAC,QAAQ;QACb,IAAI,KAAK,kBAAkB;QAC3B,IAAI,KAAK,QAAQ,EAAE;MACrB,OAAO,IAAI,CAAC;KACb;;IAED,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;MAC1B,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;KACnB;;IAED,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC;;IAErC,IAAI,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE;MAC7B,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;KACtB;;IAED,OAAO,IAAI,CAAC;GACb;EACD,SAAS,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE;IAC1B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;IAEzC,OAAO,IAAI,CAAC;GACb;EACD,SAAS,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE;IAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;IAE/B,OAAO,IAAI,CAAC;GACb;EACD,OAAO,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE;IACxB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;IAExC,OAAO,IAAI,CAAC;GACb;EACD,gBAAgB,GAAG;IACjB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;MAC5B,OAAO,IAAI,CAAC;KACb;;IAED,IAAI,QAAQ,CAAC,eAAe,KAAK,SAAS,EAAE;MAC1C,OAAO,IAAI,CAAC,IAAI,EAAE,CAAC;KACpB;;IAED,OAAO,IAAI,CAAC,KAAK,EAAE,CAAC;GACrB;EACD,MAAM,GAAG;IACP,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;MAC5B,IAAI,CAAC,UAAU,EAAE;WACZ,oBAAoB,EAAE,CAAC;KAC7B;;IAED,OAAO,IAAI,CAAC;GACb;EACD,QAAQ,CAAC,KAAK,EAAE;IACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;;IAExC,IAAI,CAAC,oBAAoB,EAAE,CAAC;;IAE5B,OAAO,IAAI,CAAC;GACb;EACD,SAAS,CAAC,MAAM,EAAE;IAChB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;;IAE3C,IAAI,CAAC,oBAAoB,EAAE,CAAC;;IAE5B,OAAO,IAAI,CAAC;GACb;EACD,oBAAoB,GAAG;IACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC7C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;;IAE/C,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;MAClD,OAAO,IAAI,CAAC;KACb;;IAED,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC;IACxD,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;;IAE1D,OAAO,IAAI,CAAC;GACb;EACD,UAAU,GAAG;IACX,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC;SAC3B,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;;IAEnC,OAAO,IAAI,CAAC;GACb;CACF,CAAC,AAEF,AAAsB;;"}